databaseChangeLog:
  - changeSet:
      id: 1
      author: zavarykin
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: users
      changes:
        - createTable:
            tableName: users
            columns:
              - column:
                  name: username
                  type: varchar
                  constraints:
                    - primaryKey: true
                    - nullable: false
                    - unique: true
              - column:
                  name: password
                  type: varchar
                  constraints:
                    - nullable: false
              - column:
                  name: enabled
                  type: boolean
                  defaultValue: false
                  constraints:
                    - nullable: false
  - changeSet:
      id: 2
      author: zavarykin
      preConditions:
        - onFail: MARK_RAN
        - not:
            - tableExists:
                tableName: authorities
      changes:
        - createTable:
            tableName: authorities
            columns:
              - column:
                  name: authority
                  type: varchar
                  constraints:
                    - nullable: false
              - column:
                  name: username
                  type: varchar
                  constraints:
                    - foreignKeyName: fk_authority_to_user
                    - references: "users(username)"
                    - nullable: false
  - changeSet:
      id: 2.1
      author: zavarykin
      preConditions:
        - onFail: MARK_RAN
        - columnExists:
            tableName: authorities
            columnName: username
        - columnExists:
            tableName: authorities
            columnName: authority
      changes:
        - addPrimaryKey:
            tableName: authorities
            constraintName: pk_authority
            columnNames: username, authority
#  - changeSet:
#      id: 3
#      author: zavarykin
#      preConditions:
#        - onFail: MARK_RAN
#        - not:
#            - tableExists:
#                tableName: categories
#      changes:
#        - createTable:
#            tableName: categories
#            columns:
#              - column:
#                  name: id
#                  type: bigint
#                  autoIncrement: true
#                  constraints:
#                    - primaryKey: true
#                    - nullable: false
#              - column:
#                  name: name
#                  type: varchar
#                  constraints:
#                    - nullable: false
#                    - unique: true
#  - changeSet:
#      id: 4
#      author: zavarykin
#      preConditions:
#        - onFail: MARK_RAN
#        - not:
#            - tableExists:
#                tableName: emails
#      changes:
#        - createTable:
#            tableName: emails
#            columns:
#              - column:
#                  name: id
#                  type: bigint
#                  autoIncrement: true
#                  constraints:
#                    - primaryKey: true
#                    - nullable: false
#              - column:
#                  name: address
#                  type: varchar
#                  constraints:
#                    - nullable: false
#                    - unique: true
#              - column:
#                  name: username
#                  type: varchar
#                  constraints:
#                    - foreignKeyName: fk_email_to_user
#                    - references: "users(username)"
#                    - nullable: false
#                    - unique: true
#  - changeSet:
#      id: 5
#      author: zavarykin
#      preConditions:
#        - onFail: MARK_RAN
#        - not:
#            - tableExists:
#                tableName: mentors
#      changes:
#        - createTable:
#            tableName: mentors
#            columns:
#              - column:
#                  name: id
#                  type: bigint
#                  autoIncrement: true
#                  constraints:
#                    - primaryKey: true
#                    - nullable: false
#              - column:
#                  name: username
#                  type: varchar
#                  constraints:
#                    - foreignKeyName: fk_mentor_to_user
#                    - references: "users(username)"
#                    - nullable: false
#                    - unique: true
#              - column:
#                  name: about
#                  type: varchar
#              - column:
#                  name: jobTitle
#                  type: varchar
#              - column:
#                  name: company
#                  type: varchar
#              - column:
#                  name: confirm
#                  type: boolean
#                  defaultValue: false
#              - column:
#                  name: experience
#                  type: int



